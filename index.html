<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <title>∞ Familiealbum</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #000;
      overflow: hidden;
    }
    body {
      height: 100dvh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      touch-action: manipulation;
    }
    #container {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100dvh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: #000;
      z-index: 1;
    }
    #slideshow-img {
      width: 100vw;
      height: 100dvh;
      object-fit: cover;
      object-position: center center;
      display: block;
      user-select: none;
      -webkit-user-drag: none;
      pointer-events: none;
      background: #000;
      opacity: 1;
      transition: opacity 1s;
      will-change: opacity;
      position: absolute;
      top: 0; left: 0;
    }
    .fade {
      opacity: 0;
      transition: opacity 1.3s;
    }
    .show {
      opacity: 1;
      transition: opacity 1.3s;
    }
    #start-btn {
      position: absolute;
      bottom: 36px;
      left: 0; right: 0;
      margin: 0 auto;
      font-size: 1.13em;
      color: #fff;
      background: rgba(0,0,0,0.27);
      padding: 8px 20px;
      border-radius: 20px;
      border: none;
      font-family: inherit;
      letter-spacing: 0.04em;
      opacity: 0.95;
      cursor: pointer;
      outline: none;
      transition: background 0.2s, opacity 0.2s;
      z-index: 2;
      pointer-events: auto;
      box-shadow: 0 2px 7px rgba(0,0,0,0.17);
    }
    #start-btn:active {
      opacity: 1;
      background: rgba(0,0,0,0.45);
    }
    .arrow {
      position: absolute;
      top: 50%;
      width: 42px;
      height: 42px;
      margin-top: -21px;
      background: rgba(40,40,40,0.3);
      color: #fff;
      border-radius: 50%;
      border: none;
      font-size: 2em;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
      opacity: 0.62;
      cursor: pointer;
      transition: background 0.2s, opacity 0.2s;
      user-select: none;
    }
    .arrow:active {
      background: rgba(0,0,0,0.5);
      opacity: 1;
    }
    #left-arrow { left: 11px; }
    #right-arrow { right: 11px; }
    @media (max-width: 700px) {
      #start-btn { font-size: 1em; padding: 7px 11px; }
      .arrow { width: 32px; height: 32px; font-size: 1.3em; margin-top: -16px; }
    }
  </style>
</head>
<body>
  <div id="container">
    <img id="slideshow-img" src="7ea4ee19-6395-4202-ad63-a472c00b4b9b.png" draggable="false" class="show" alt="Familie billede" />
    <button id="start-btn">tryk for at starte</button>
    <button class="arrow" id="left-arrow" style="display:none;">&#8592;</button>
    <button class="arrow" id="right-arrow" style="display:none;">&#8594;</button>
  </div>
  <script>
    // Billedrækkefølge
    const images = [
      "7ea4ee19-6395-4202-ad63-a472c00b4b9b.png",
      "Billede 1.jpg",
      "Billede 2.jpg",
      "f75d86de-b362-47a5-9e52-4ccb60d964ce.jpeg",
      "Billede 24.jpg",
      "Billede 20.jpg",
      "fbb2e01b-6bf4-4859-9f85-418412b4abd0.jpg",
      "Billede 25.jpg",
      "Design uden navn.png",
      "815FF0E0-1E99-4ADB-A9B8-CAEA128FE786.jpeg",
      "Billede 3.jpg",
      "Billede 12.jpg",
      "E8A74AAA-BC3E-4E53-BD97-0C2FDAFE7BF9.png",
      "F00B416B-3D7C-4E73-B92D-5E91168524C8.jpeg",
      "Billede 23.jpg"
    ];

    let currentIndex = 0;
    let animating = false;
    let autoAdvance = null;
    const img = document.getElementById('slideshow-img');
    const startBtn = document.getElementById('start-btn');
    const leftArrow = document.getElementById('left-arrow');
    const rightArrow = document.getElementById('right-arrow');

    function showImage(idx, withFade=true) {
      if (idx < 0 || idx >= images.length) return;
      if (animating) return;
      animating = true;

      img.classList.remove('show');
      img.classList.add('fade');

      setTimeout(() => {
        img.src = images[idx];
        img.onload = () => {
          setTimeout(() => {
            img.classList.remove('fade');
            img.classList.add('show');
            animating = false;
          }, 12);
        };
      }, withFade ? 390 : 0);
    }

    function updateArrows() {
      leftArrow.style.display = (currentIndex > 1) ? 'block' : 'none';
      rightArrow.style.display = (currentIndex < images.length - 1) ? 'block' : 'none';
    }

    function nextImage() {
      if (currentIndex < images.length - 1) {
        currentIndex++;
        showImage(currentIndex);
        updateArrows();
      }
    }

    function prevImage() {
      if (currentIndex > 1) {
        currentIndex--;
        showImage(currentIndex);
        updateArrows();
      }
    }

    function startSlideshow() {
      currentIndex = 1;
      showImage(currentIndex, false);
      startBtn.style.display = 'none';
      updateArrows();

      autoAdvance = setInterval(() => {
        if (currentIndex < images.length - 1) {
          currentIndex++;
          showImage(currentIndex);
          updateArrows();
        } else {
          clearInterval(autoAdvance);
        }
      }, 2350); // 2,35 sekunder pr billede
    }

    startBtn.addEventListener('click', () => {
      startSlideshow();
    });

    leftArrow.addEventListener('click', () => {
      clearInterval(autoAdvance);
      prevImage();
    });
    rightArrow.addEventListener('click', () => {
      clearInterval(autoAdvance);
      nextImage();
    });

    // Swipe på touch
    let touchStartX = null;
    img.addEventListener('touchstart', e => {
      if (e.touches.length === 1) touchStartX = e.touches[0].clientX;
    });
    img.addEventListener('touchend', e => {
      if (touchStartX === null) return;
      let dx = e.changedTouches[0].clientX - touchStartX;
      if (Math.abs(dx) > 50) {
        clearInterval(autoAdvance);
        if (dx < 0) nextImage();
        else prevImage();
      }
      touchStartX = null;
    });

    // Sikrer billedet altid dækker skærmen 100%
    function resizeImg() {
      img.style.width = '100vw';
      img.style.height = '100dvh';
    }
    window.addEventListener('resize', resizeImg);
    window.addEventListener('orientationchange', resizeImg);
    resizeImg();

    updateArrows();
    img.ondragstart = () => false;
  </script>
</body>
</html>